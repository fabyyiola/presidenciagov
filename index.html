<!-- PublicLayout.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sabinas Hidalgo, Nuevo León - Gobierno Municipal</title>

  <!-- Tailwind + theme -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'municipal-blue': '#2563eb',
            'municipal-teal': '#14b8a6',
            'municipal-pink': '#f87171',
            'municipal-green': '#22c55e'
          }
        }
      }
    }
  </script>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
</head>

<body class="font-sans bg-white">
  <!-- Header -->
  <header class="bg-white shadow-sm">
    <!-- Top Bar -->
    <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
      <a href="registrate.html" class="text-municipal-blue hover:text-blue-700 font-medium">Regístrate</a>

      <!-- Logo -->
      <div class="flex items-center">
        <div class="bg-gradient-to-r from-municipal-blue to-municipal-teal text-white px-6 py-3 rounded-lg font-bold text-lg">
          Sabinas Hidalgo N.L.
        </div>
      </div>

      <!-- Social -->
      <div class="flex space-x-3">
        <a href="#" class="text-municipal-blue hover:text-blue-700 text-xl"><i class="fab fa-facebook"></i></a>
        <a href="#" class="text-municipal-blue hover:text-blue-700 text-xl"><i class="fab fa-twitter"></i></a>
        <a href="#" class="text-municipal-blue hover:text-blue-700 text-xl"><i class="fab fa-instagram"></i></a>
        <a href="#" class="text-municipal-blue hover:text-blue-700 text-xl"><i class="fab fa-youtube"></i></a>
      </div>
    </div>

    <!-- Nav -->
    <nav class="bg-white border-t border-gray-200">
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex justify-center space-x-8 py-4">
          <a href="#home"       data-route="home"       class="spa-link font-medium px-3 py-2 rounded-md hover:bg-blue-50 text-municipal-blue">Inicio</a>
          <a href="#equipo"     data-route="equipo"     class="spa-link font-medium px-3 py-2 rounded-md hover:bg-blue-50 text-municipal-blue">Equipo</a>
          <a href="#tuciudad"   data-route="tuciudad"   class="spa-link font-medium px-3 py-2 rounded-md hover:bg-blue-50 text-municipal-blue">Tu Ciudad</a>
          <a href="#tramites"   data-route="tramites"   class="spa-link font-medium px-3 py-2 rounded-md hover:bg-blue-50 text-municipal-blue">Trámites</a>
          <a href="#transp"     data-route="transp"     class="spa-link font-medium px-3 py-2 rounded-md hover:bg-blue-50 text-municipal-blue">Transparencia</a>
          <a href="#proyectos"  data-route="proyectos"  class="spa-link font-medium px-3 py-2 rounded-md hover:bg-blue-50 text-municipal-blue">Proyectos</a>
        </div>
      </div>
    </nav>
  </header>

  <!-- Dynamic render area -->
  <main class="min-h-screen">
    <section id="app"></section>
  </main>

  <!-- Footer -->
  <footer class="bg-municipal-blue text-white py-12">
    <div class="max-w-7xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div>
          <h3 class="font-bold text-xl mb-4">CONTACTO</h3>
          <p class="mb-2">📍 Palacio Municipal, Centro</p>
          <p class="mb-2">📞 (824) 123-4567</p>
          <p class="mb-2">✉️ contacto@sabinashidalgo.gob.mx</p>
        </div>
        <div>
          <h3 class="font-bold text-xl mb-4">HORARIOS</h3>
          <p class="mb-2">Lunes a Viernes: 8:00 - 16:00 hrs</p>
          <p class="mb-2">Sábados: 9:00 - 13:00 hrs</p>
          <p class="mb-2">Miércoles Ciudadano: 11:30 - 13:30 hrs</p>
        </div>
        <div>
          <h3 class="font-bold text-xl mb-4">SÍGUENOS</h3>
          <div class="flex space-x-4">
            <a href="#" class="text-2xl hover:text-blue-300"><i class="fab fa-facebook"></i></a>
            <a href="#" class="text-2xl hover:text-blue-300"><i class="fab fa-twitter"></i></a>
            <a href="#" class="text-2xl hover:text-blue-300"><i class="fab fa-instagram"></i></a>
            <a href="#" class="text-2xl hover:text-blue-300"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
      <div class="border-t border-blue-400 mt-8 pt-8 text-center">
        <p>&copy; 2024 Gobierno Municipal de Sabinas Hidalgo, Nuevo León. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <script>
    // ---- Simple SPA loader (fragments) ----
    const ROUTES = {
      home:      "Home.html",       // (B) content-only file
      equipo:    "Equipo.html",
      tuciudad:  "TuCiudad.html",
      tramites:  "Tramites.html",
      transp:    "Transparencia.html",
      proyectos: "Proyectos.html"
    };

    const app = document.getElementById("app");

    function setActive(route){
      document.querySelectorAll('.spa-link').forEach(a=>{
        const active = a.dataset.route === route;
        a.classList.toggle('bg-blue-50', active);
      });
    }

    async function navigate(route){
      const file = ROUTES[route] || ROUTES.home;
      const res = await fetch(file, { cache: "no-cache" });
      const html = await res.text();
      app.innerHTML = html;

      // execute inline scripts inside fragment
      const tmp = document.createElement('div');
      tmp.innerHTML = html;
      tmp.querySelectorAll('script').forEach(old=>{
        const s = document.createElement('script');
        if (old.type) s.type = old.type;
        s.textContent = old.textContent;
        document.body.appendChild(s);
        setTimeout(()=>s.remove(),0);
      });

      setActive(route);
      localStorage.setItem('publicRoute', route);
    }

    // link binding
    function bindNav(){
      document.querySelectorAll('a.spa-link').forEach(a=>{
        a.addEventListener('click', e=>{
          e.preventDefault();
          const r = a.dataset.route;
          if (r) { location.hash = r; navigate(r); }
        });
      });
    }

    // boot
    bindNav();
    const initial = (location.hash && location.hash.replace('#','')) || localStorage.getItem('publicRoute') || 'home';
    navigate(initial);
    window.addEventListener('hashchange', ()=>{
      const r = location.hash.replace('#','');
      if (ROUTES[r]) navigate(r);
    });
  </script>
</body>
</html>
